<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="login.css">
    <title>Journizz</title>
    <meta charset="UTF-8">
    <script src="https://kit.fontawesome.com/be3f490722.js" crossorigin="anonymous"></script>
  </head>
  <body>

    <div class="mainpage">

      <div class="navbar">
        <div class="logo">
          <span  class="iconlogo">J</span>
          <span class="logoin">Journizz</span>
        </div>
        <div class="rightnav">
          <div class="twitterbutton">
            <button class="twitterbutton1"><i class="fa-brands fa-x-twitter"></i>Twitter</button>
          </div>
  
          <div class="githubbutton">
            <button class="githubbutton1"><i class="fa-brands fa-github"></i>Github</button>
          </div>
        </div>
      </div>
      </div>
      <div class="main-content">
        <div class="dispimg">
          jh
        </div>
        <div class="rightside">
          <div class="login-container">
            <div class="wave-bg">
                <div class="wave-top"></div>
                <div class="wave-bottom"></div>
            </div>
            <div class="content">
                <h1>Sign up</h1>
                <div class="input-group">
                    <label for="phone">Username</label>
                    <div class="input-field">
                        <div class="icon">
                            <img src="https://img.icons8.com/?size=100&id=23264&format=png&color=000000" class="usernameimg">
                        </div>
                        <input type="text" id="username" placeholder="Enter your username">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="password">Password</label>
                    <div class="input-field">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                        </div>
                        <input type="password" id="password" placeholder="Enter your password">
                        <div class="toggle-password">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </div>
                    </div>
                    <br>
                    <div class="input-group">
                      <label for="phone">Email</label>
                      <div class="input-field">
                          <div class="icon">
                              <img src="https://img.icons8.com/?size=100&id=23264&format=png&color=000000" class="usernameimg">
                          </div>
                          <input type="text" id="email" placeholder="Enter your email">
                      </div>
                  </div>

                  <div class="input-group">
                    <label for="phone">Name</label>
                    <div class="input-field">
                        <div class="icon">
                            <img src="https://img.icons8.com/?size=100&id=23264&format=png&color=000000" class="usernameimg">
                        </div>
                        <input type="text" id="name" placeholder="Enter your name">
                    </div>
                </div>
                    <div class="forgot-link">
                        <a href="#">Forgot Password?</a>
                    </div>
                </div>
                
                <button class="login-btn" onclick="signup()">Log in</button>
                
                <div class="signup-link">
                    Don't have an account? <a href="#">Sign up</a>
                </div>
            </div>
        </div>
        </div>

      </div>
    </div>

    <script>
      let url = "http://localhost:3000"
      async function signup() {
        let username = document.getElementById("username").value
        let password = document.getElementById("password").value
        let email = document.getElementById("email").value
        let name = document.getElementById("name").value

        try{
          const response = await fetch(`${url}/signup`,{
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              email: email,
              password: password,
              name: name,
              username: username
            })

          })
          if(response.ok){
            alert("You are signed up")
          }
          else{
            const data = await response.json()
            const message = data.message
            alert(message);
          }

        }
        catch(e){
          console.log(e)
        }
      }
    </script>
  </body>

</html>